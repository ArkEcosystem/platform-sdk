generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgres"
  url      = env("DATABASE_URL")
}

model Block {
  hash   String @id
  height Int    @unique
}

model Transaction {
  hash              String              @id
  time              Int
  amount            String
  fee               String
  transaction_parts TransactionPart[]
}

model TransactionPart {
  output_hash  String
  output_idx   Int
  input_hash   String?
  input_idx    Int?
  amount       String
  address      Json?
  transaction Transaction @relation(fields: [output_hash], references: [hash])
  @@id([output_hash, output_idx])
  @@unique([input_hash, input_idx], name: "transaction_input_hash_index")
}
